# TODO List

## Критичные задачи (выполнено)
- ✅ Исправлена ошибка компиляции: дублирование categoryCount и totalPrice в email-templates-tournament.ts
- ✅ Добавлен горизонтальный скролл для таблиц в админке (/admin/logs и другие страницы)
- ✅ Добавлены переводы для действий в логах (login, logout, send_email, register) в en.json
- ✅ Добавлен User ID под email в колонке User в логах
- ✅ Для Entity Type - Pair - Update добавлена информация о затронутых пользователях (affectedUserIds, affectedUserEmails)
- ✅ Улучшена фильтрация логов: теперь фильтр по user ID или email показывает действия как сделанные пользователем, так и сделанные по отношению к нему
- ✅ Исправлена страница логов: добавлен горизонтальный скролл (min-w-[1600px]), кнопки копирования для User и Entity ID
- ✅ Добавлены переводы для Admin.logs.entityTypes.tournament_registration для всех языков
- ✅ Исправлена логика снятия выделения после удаления участника/пользователя
- ✅ Заменен window.confirm на ConfirmDialog в AdminUsersContent
- ✅ Исправлена логика клика на иконку "Турниры" в свернутом меню админки
- ✅ Добавлены переводы для Admin.users.confirmDeleteUser для всех языков
- ✅ Созданы страницы для всех подразделов настроек админки (courts, extras, pricing, holidays, policies, company, clubs, admins, terms)
- ✅ Создана страница not-found.tsx для админских настроек с ссылками на Settings и Dashboard
- ✅ Исправлена проблема с белым экраном при переходе на страницы настроек - теперь отображается корректная 404 страница

## Осталось выполнить

### 1. Переводы для остальных языков
- [x] Добавить переводы ResetPassword и ошибок логина для de, it, ca, nl, da, sv, no, ar, zh - ✅ Выполнено
- [x] Добавить переводы Admin.logs.actions.login, logout, send_email, register для всех языков (кроме en) - ✅ Выполнено
- [x] Добавить переводы Admin.logs.affectedUsers и Admin.logs.affectedEmails для всех языков - ✅ Выполнено
- [x] Добавить перевод Admin.settings.comingSoon для всех языков - ✅ Уже добавлен во всех языках

### 2. Функционал страниц настроек админки
- [ ] Реализовать функционал страницы Courts (/admin/settings/courts)
- [ ] Реализовать функционал страницы Extras (/admin/settings/extras)
- [ ] Реализовать функционал страницы Pricing (/admin/settings/pricing)
- [ ] Реализовать функционал страницы Holidays (/admin/settings/holidays)
- [ ] Реализовать функционал страницы Policies (/admin/settings/policies)
- [ ] Реализовать функционал страницы Company (/admin/settings/company)
- [ ] Реализовать функционал страницы Clubs (/admin/settings/clubs)
- [ ] Реализовать функционал страницы Manage Admins (/admin/settings/admins)
- [ ] Реализовать функционал страницы Terms (/admin/settings/terms)

### 3. Дополнительные улучшения (опционально)
- [x] Проверить работу горизонтального скролла на всех страницах админки - ✅ Проверено: AdminLogsContent (min-w-[1600px]), AdminUsersContent (min-w-[1200px]), TournamentParticipantsPage (min-w-[1400px])
- [x] Добавить подсказки/тултипы для Entity ID колонки - ✅ Добавлен тултип с объяснением Entity ID для всех 14 языков
- [ ] Оптимизировать производительность фильтрации логов при большом количестве записей
- [x] Улучшить отображение 404 страницы для админки - добавлена страница not-found.tsx с ссылками на Settings и Dashboard

### 4. Исправления UI/UX админ-панели
- [x] Добавить отступ сверху на странице /admin/tournaments (чтобы кнопка "Crear Torneo" не перекрывалась языковым селектором) - ✅ Выполнено
- [x] Добавить отступ сверху на странице /admin/users (чтобы кнопки не перекрывались языковым селектором) - ✅ Выполнено
- [x] Проверить все страницы админки на перекрытие элементов языковым селектором - ✅ Проверено и исправлено
- [x] Исправить tooltip для Entity ID - он выходит за границы таблицы (проблема с z-index/слоями) - ✅ Исправлено: изменено позиционирование на right-0, увеличен z-index до z-[100]
- [x] Исправить отступы на странице /admin/settings при свернутом левом меню (текст идет вплотную к меню) - ✅ Выполнено
- [x] Исправить отступы на странице /admin/messages при свернутом левом меню - ✅ Выполнено

### 5. Улучшение системы логирования
- [ ] При регистрации на турнир логировать детали:
  - На какой турнир зарегистрировался
  - В какие категории
  - Информация о партнере (если есть)
  - Детали оплаты
  - Все остальные данные регистрации
- [ ] Логировать отправку email для верификации после регистрации
- [ ] Логировать подтверждение email (когда пользователь переходит по ссылке)
- [ ] Логировать все шаги процесса регистрации с детальными описаниями
- [ ] Улучшить отображение деталей в логах для регистраций на турнир

### 6. Система клубов и доступов
- [ ] Создать таблицу `clubs` в базе данных со структурой:
  - id, name, address, description, location, working_hours, created_at, updated_at
- [ ] Создать первый клуб "Padel La Masia, Carrer de Mallorca, Blanes"
- [ ] На странице /admin/staff добавить выбор клуба при назначении доступа (Assign Access)
  - Пользователь может быть админом/ролью для конкретного клуба
  - Пользователь может быть админом/ролью для конкретного турнира
  - Поддержка множественного выбора (несколько клубов/турниров)
- [ ] При создании турнира добавить выбор клуба из списка существующих
- [ ] При создании турнира добавить возможность создать новый клуб
- [ ] Реализовать логику доступа:
  - Суперадмин имеет доступ ко всем клубам
  - Админ клуба имеет доступ только к настройкам своего клуба

### 7. Реализация страниц настроек клуба
- [ ] Страница Courts (/admin/settings/courts):
  - Указать количество кортов
  - Локация каждого корта
  - Название корта
  - Описание корта
  - Тип корта (открытый/закрытый, покрытие и т.д.)
  - Часы работы каждого корта
  - Возможность добавить/удалить корт
- [ ] Страница Holidays (/admin/settings/holidays):
  - Указать выходные дни клуба
  - Возможность скопировать общие локальные праздники
  - Календарь для выбора дат
  - Групповое добавление праздников
  - Возможность установить повторяющиеся праздники (ежегодно)
- [ ] Страница Extras (/admin/settings/extras):
  - Дополнительные услуги клуба
  - Цены на услуги
  - Описание услуг
- [ ] Страница Pricing (/admin/settings/pricing):
  - Структура цен для бронирования кортов
  - Цены для турниров
  - Цены для членства
  - Разные тарифы для разных временных слотов
- [ ] Страница Policies (/admin/settings/policies):
  - Правила клуба
  - Политика отмены
  - Политика возврата средств
  - Другие правила
- [ ] Страница Company (/admin/settings/company):
  - Информация о компании
  - Контакты
  - Логотип
  - Описание
- [ ] Страница Clubs (/admin/settings/clubs):
  - Список всех клубов (для суперадмина)
  - Создание нового клуба
  - Редактирование клуба
  - Удаление клуба
- [ ] Страница Manage Admins (/admin/settings/admins):
  - Управление администраторами клуба
  - Назначение прав доступа
  - Удаление администраторов
- [ ] Страница Terms (/admin/settings/terms):
  - Условия использования
  - Политика конфиденциальности
  - Другие документы

